<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking Management</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f9;
            color: #333;
            transition: background-color 0.3s ease;
        }
        input, button {
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            transition: transform 0.2s ease;
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }
        .fade-in {
            animation: fadeIn 1s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
    </style>
</head>
<body>
    <h2 class="fade-in">Smart Parking Management</h2>
    <h3 class="fade-in">Register Vehicle</h3>
    <input type="text" id="numberPlate" placeholder="Number Plate" required>
    <input type="text" id="ownerName" placeholder="Owner Name" required>
    <input type="text" id="vehicleType" placeholder="Vehicle Type" required>
    <input type="text" id="parkingSlot" placeholder="Parking Slot" required>
    <button onclick="registerVehicle()">Register</button>
    <button onclick="clearForm()">Clear</button>
    <button onclick="viewAllVehicles()">View All Vehicles</button>
    <button onclick="deleteVehicle()">Delete Vehicle</button>
    
    <h3 class="fade-in">Search Vehicle</h3>
    <input type="text" id="searchPlate" placeholder="Enter Number Plate">
    <button onclick="searchVehicle()">Search</button>
    <button onclick="clearSearch()">Clear Search</button>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        function registerVehicle() {
            let numberPlate = document.getElementById("numberPlate").value;
            let ownerName = document.getElementById("ownerName").value;
            let vehicleType = document.getElementById("vehicleType").value;
            let parkingSlot = document.getElementById("parkingSlot").value;
            
            if (!numberPlate || !ownerName || !vehicleType || !parkingSlot) {
                alert("Please fill all fields");
                return;
            }
            
            db.collection("vehicles").doc(numberPlate).set({
                numberPlate, ownerName, vehicleType, parkingSlot
            })
            .then(() => {
                alert("Vehicle Registered Successfully");
                clearForm();
            })
            .catch(error => {
                alert("Error: " + error);
            });
        }

        function searchVehicle() {
            let searchPlate = document.getElementById("searchPlate").value;
            db.collection("vehicles").doc(searchPlate).get().then(doc => {
                if (doc.exists) {
                    let vehicle = doc.data();
                    alert(`Vehicle Found:\nNumber Plate: ${vehicle.numberPlate}\nOwner: ${vehicle.ownerName}\nType: ${vehicle.vehicleType}\nSlot: ${vehicle.parkingSlot}`);
                } else {
                    alert("Vehicle not found");
                }
            }).catch(error => {
                alert("Error: " + error);
            });
        }

        function deleteVehicle() {
            let searchPlate = document.getElementById("searchPlate").value;
            db.collection("vehicles").doc(searchPlate).delete().then(() => {
                alert("Vehicle Deleted Successfully");
            }).catch(error => {
                alert("Error: " + error);
            });
        }

        function viewAllVehicles() {
            db.collection("vehicles").get().then(querySnapshot => {
                let vehicleList = "All Vehicles:\n";
                querySnapshot.forEach(doc => {
                    let vehicle = doc.data();
                    vehicleList += `Number Plate: ${vehicle.numberPlate}, Owner: ${vehicle.ownerName}, Type: ${vehicle.vehicleType}, Slot: ${vehicle.parkingSlot}\n`;
                });
                alert(vehicleList);
            }).catch(error => {
                alert("Error: " + error);
            });
        }

        function clearForm() {
            document.getElementById("numberPlate").value = "";
            document.getElementById("ownerName").value = "";
            document.getElementById("vehicleType").value = "";
            document.getElementById("parkingSlot").value = "";
        }

        function clearSearch() {
            document.getElementById("searchPlate").value = "";
        }
    </script>
</body>
</html>